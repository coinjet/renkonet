# RenkoNet - Red Social Completa

Una red social moderna y completa con todas las funcionalidades de Instagram, construida con React, Supabase y tecnolog√≠as PWA.

## üöÄ Caracter√≠sticas Principales

### üì± Funcionalidades Core
- ‚úÖ **Autenticaci√≥n completa** - Registro, login, recuperaci√≥n de contrase√±a
- ‚úÖ **Perfiles de usuario** - Avatares, biograf√≠as, estad√≠sticas
- ‚úÖ **Feed de publicaciones** - Timeline con posts de usuarios seguidos
- ‚úÖ **Subida de contenido** - Fotos y videos con compresi√≥n autom√°tica
- ‚úÖ **Interacciones sociales** - Likes, comentarios, seguir/dejar de seguir
- ‚úÖ **Mensajes directos** - Chat privado en tiempo real
- ‚úÖ **Historias** - Contenido temporal que expira en 24 horas
- ‚úÖ **Exploraci√≥n** - Descubrimiento de contenido trending

### üéØ Funcionalidades Avanzadas
- ‚úÖ **Temas/Grupos** - Comunidades por especialidad e intereses
- ‚úÖ **Sistema de verificaci√≥n** - Con planes de pago ($9.99/mes, $99.99/a√±o)
- ‚úÖ **Panel de administraci√≥n** - Gesti√≥n completa de usuarios y contenido
- ‚úÖ **Sistema de anuncios** - Monetizaci√≥n con anuncios rotativos
- ‚úÖ **Roles de usuario** - Normal, Verificado, Administrador

### üì± PWA (Progressive Web App)
- ‚úÖ **Instalable** - Se puede instalar como app nativa
- ‚úÖ **Funciona offline** - Cache inteligente con Service Worker
- ‚úÖ **Notificaciones push** - Alertas en tiempo real
- ‚úÖ **Responsive** - Optimizada para m√≥vil y desktop
- ‚úÖ **App shortcuts** - Accesos r√°pidos desde el launcher

### üåç Caracter√≠sticas T√©cnicas
- ‚úÖ **Internacionalizaci√≥n** - Espa√±ol e ingl√©s
- ‚úÖ **SEO optimizado** - Meta tags completos
- ‚úÖ **Seguridad** - Row Level Security en Supabase
- ‚úÖ **Optimizaci√≥n** - Code splitting, lazy loading, minificaci√≥n

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Frontend
- **React 18** - Framework principal
- **React Router** - Navegaci√≥n entre p√°ginas
- **Tailwind CSS** - Estilos y dise√±o responsive
- **Shadcn/UI** - Componentes de interfaz
- **Lucide React** - Iconos modernos
- **Vite** - Build tool y desarrollo

### Backend
- **Supabase** - Base de datos PostgreSQL y autenticaci√≥n
- **Row Level Security** - Seguridad a nivel de fila
- **Real-time subscriptions** - Actualizaciones en tiempo real

### PWA
- **Service Worker** - Cache y funcionalidad offline
- **Web App Manifest** - Configuraci√≥n de instalaci√≥n
- **Push Notifications** - Notificaciones nativas

## üì¶ Instalaci√≥n y Configuraci√≥n

### Prerrequisitos
- Node.js 18+ 
- npm o pnpm
- Cuenta de Supabase

### 1. Clonar el repositorio
\`\`\`bash
git clone <tu-repositorio>
cd social-network-pwa-new
\`\`\`

### 2. Instalar dependencias
\`\`\`bash
npm install --legacy-peer-deps
\`\`\`

### 3. Configurar variables de entorno
Crea un archivo \`.env\` basado en \`.env.example\`:

\`\`\`env
VITE_SUPABASE_URL=https://yrokptdcmwqvimqlhaac.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyb2twdGRjbXdxdmltcWxoYWFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzNzAyNDQsImV4cCI6MjA2OTk0NjI0NH0.daSupk2k9W6Z3qgpVkjhkaHzNOB-ieYiZdrPFRAQugY
\`\`\`

### 4. Configurar Supabase

#### Crear las tablas necesarias
Ejecuta este script SQL en tu panel de Supabase:

\`\`\`sql
-- Tabla de perfiles
CREATE TABLE profiles (
  id UUID REFERENCES auth.users(id) ON DELETE CASCADE PRIMARY KEY,
  username TEXT UNIQUE NOT NULL,
  full_name TEXT,
  avatar_url TEXT,
  bio TEXT,
  role TEXT DEFAULT 'normal',
  is_verified BOOLEAN DEFAULT FALSE,
  followers_count INTEGER DEFAULT 0,
  following_count INTEGER DEFAULT 0,
  posts_count INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de posts
CREATE TABLE posts (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  content TEXT,
  image_url TEXT,
  video_url TEXT,
  likes_count INTEGER DEFAULT 0,
  comments_count INTEGER DEFAULT 0,
  is_sponsored BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de seguidores
CREATE TABLE follows (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  follower_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  following_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(follower_id, following_id)
);

-- Tabla de likes
CREATE TABLE likes (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(user_id, post_id)
);

-- Tabla de comentarios
CREATE TABLE comments (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE NOT NULL,
  content TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de historias
CREATE TABLE stories (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  content TEXT,
  image_url TEXT,
  video_url TEXT,
  expires_at TIMESTAMP WITH TIME ZONE DEFAULT (NOW() + INTERVAL '24 hours'),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de mensajes
CREATE TABLE messages (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  sender_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  receiver_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  content TEXT NOT NULL,
  is_read BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de temas/grupos
CREATE TABLE topics (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  name TEXT UNIQUE NOT NULL,
  description TEXT,
  creator_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  members_count INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de miembros de temas
CREATE TABLE topic_members (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  topic_id UUID REFERENCES topics(id) ON DELETE CASCADE NOT NULL,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  joined_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(topic_id, user_id)
);

-- Tabla de anuncios
CREATE TABLE ads (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  image_url TEXT,
  link_url TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Tabla de solicitudes de verificaci√≥n
CREATE TABLE verification_requests (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE NOT NULL,
  status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'approved', 'rejected')),
  payment_info JSONB,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Habilitar RLS
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE follows ENABLE ROW LEVEL SECURITY;
ALTER TABLE likes ENABLE ROW LEVEL SECURITY;
ALTER TABLE comments ENABLE ROW LEVEL SECURITY;
ALTER TABLE stories ENABLE ROW LEVEL SECURITY;
ALTER TABLE messages ENABLE ROW LEVEL SECURITY;
ALTER TABLE topics ENABLE ROW LEVEL SECURITY;
ALTER TABLE topic_members ENABLE ROW LEVEL SECURITY;
ALTER TABLE ads ENABLE ROW LEVEL SECURITY;
ALTER TABLE verification_requests ENABLE ROW LEVEL SECURITY;

-- Pol√≠ticas b√°sicas
CREATE POLICY "Lectura p√∫blica de perfiles" ON profiles FOR SELECT USING (true);
CREATE POLICY "Usuarios pueden actualizar su perfil" ON profiles FOR UPDATE USING (auth.uid() = id);
CREATE POLICY "Insertar perfil" ON profiles FOR INSERT WITH CHECK (auth.uid() = id);

CREATE POLICY "Lectura p√∫blica de posts" ON posts FOR SELECT USING (true);
CREATE POLICY "Usuarios pueden crear posts" ON posts FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Usuarios pueden actualizar sus posts" ON posts FOR UPDATE USING (auth.uid() = user_id);

-- [Contin√∫a con m√°s pol√≠ticas...]
\`\`\`

### 5. Ejecutar en desarrollo
\`\`\`bash
npm run dev
\`\`\`

### 6. Construir para producci√≥n
\`\`\`bash
npm run build
\`\`\`

## üöÄ Despliegue

### Vercel (Recomendado)
1. Conecta tu repositorio a Vercel
2. Configura las variables de entorno en Vercel
3. Despliega autom√°ticamente

### Netlify
1. Conecta tu repositorio a Netlify
2. Configura las variables de entorno
3. Comando de build: \`npm run build\`
4. Directorio de publicaci√≥n: \`dist\`

## üë• Uso de la Aplicaci√≥n

### Para Usuarios Normales
1. **Registro/Login** - Crea tu cuenta o inicia sesi√≥n
2. **Completa tu perfil** - A√±ade avatar, biograf√≠a, informaci√≥n
3. **Explora contenido** - Ve el feed, explora usuarios y temas
4. **Interact√∫a** - Da likes, comenta, sigue usuarios
5. **Crea contenido** - Sube fotos, videos, crea historias
6. **Mensajes** - Chatea con otros usuarios

### Para Administradores
1. **Panel de Admin** - Accede desde el men√∫ lateral
2. **Gesti√≥n de usuarios** - Cambia roles, verifica usuarios
3. **Moderaci√≥n** - Elimina contenido inapropiado
4. **Anuncios** - Crea y gestiona campa√±as publicitarias
5. **Verificaciones** - Aprueba/rechaza solicitudes de verificaci√≥n

### Sistema de Verificaci√≥n
1. **Solicitar verificaci√≥n** - Ve a la p√°gina de verificaci√≥n
2. **Selecciona plan** - Mensual ($9.99) o Anual ($99.99)
3. **Completa informaci√≥n** - Profesi√≥n, raz√≥n, redes sociales
4. **Pago** - Procesa el pago de forma segura
5. **Revisi√≥n** - Espera la aprobaci√≥n del administrador

## üîß Estructura del Proyecto

\`\`\`
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ admin/          # Panel de administraci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ feed/           # Feed principal
‚îÇ   ‚îú‚îÄ‚îÄ profile/        # Perfiles de usuario
‚îÇ   ‚îú‚îÄ‚îÄ messages/       # Mensajes directos
‚îÇ   ‚îú‚îÄ‚îÄ stories/        # Historias
‚îÇ   ‚îú‚îÄ‚îÄ topics/         # Temas/grupos
‚îÇ   ‚îú‚îÄ‚îÄ verification/   # Sistema de verificaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ layout/         # Navegaci√≥n y layout
‚îÇ   ‚îî‚îÄ‚îÄ ui/             # Componentes de interfaz
‚îú‚îÄ‚îÄ contexts/           # Contextos de React
‚îú‚îÄ‚îÄ lib/                # Utilidades y configuraci√≥n
‚îî‚îÄ‚îÄ App.jsx             # Componente principal
\`\`\`

## üé® Personalizaci√≥n

### Colores y Tema
Edita \`src/index.css\` para cambiar los colores principales:

\`\`\`css
:root {
  --primary: 220 98% 61%;      /* Azul principal */
  --secondary: 220 14.3% 95.9%; /* Gris claro */
  --accent: 220 14.3% 95.9%;    /* Color de acento */
}
\`\`\`

### Logo y Branding
- Reemplaza los iconos en \`public/\`
- Actualiza el manifest en \`public/manifest.json\`
- Cambia el nombre en \`index.html\`

## üì± Caracter√≠sticas PWA

### Instalaci√≥n
- La app muestra autom√°ticamente un prompt de instalaci√≥n
- Se puede instalar desde el navegador (Chrome: men√∫ > Instalar app)
- Funciona como app nativa una vez instalada

### Offline
- Cache inteligente de recursos est√°ticos
- Funcionalidad b√°sica disponible sin conexi√≥n
- Sincronizaci√≥n autom√°tica al restaurar conexi√≥n

### Notificaciones
- Notificaciones push para nuevos mensajes
- Alertas de interacciones (likes, comentarios)
- Configurables desde el perfil de usuario

## üîí Seguridad

### Row Level Security (RLS)
- Todas las tablas tienen RLS habilitado
- Los usuarios solo pueden acceder a sus datos
- Pol√≠ticas espec√≠ficas para cada tipo de contenido

### Autenticaci√≥n
- JWT tokens con refresh autom√°tico
- Sesiones persistentes y seguras
- Recuperaci√≥n de contrase√±a por email

## üêõ Soluci√≥n de Problemas

### Error de conexi√≥n a Supabase
1. Verifica las variables de entorno
2. Confirma que las URLs son correctas
3. Revisa las pol√≠ticas RLS en Supabase

### Problemas de instalaci√≥n PWA
1. Verifica que el manifest.json sea v√°lido
2. Confirma que el Service Worker se registre
3. Usa HTTPS en producci√≥n

### Errores de permisos
1. Revisa las pol√≠ticas RLS
2. Confirma que el usuario est√© autenticado
3. Verifica los roles de usuario

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver \`LICENSE\` para m√°s detalles.

## ü§ù Contribuciones

Las contribuciones son bienvenidas. Por favor:

1. Fork el proyecto
2. Crea una rama para tu feature (\`git checkout -b feature/AmazingFeature\`)
3. Commit tus cambios (\`git commit -m 'Add some AmazingFeature'\`)
4. Push a la rama (\`git push origin feature/AmazingFeature\`)
5. Abre un Pull Request

## üìû Soporte

Para soporte t√©cnico o preguntas:
- Crea un issue en GitHub
- Contacta al equipo de desarrollo
- Revisa la documentaci√≥n de Supabase

---

**RenkoNet** - La red social del futuro, hoy. üöÄ

